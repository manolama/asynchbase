<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Thu Sep 10 19:28:45 PDT 2015 -->
<title>PleaseThrottleException</title>
<meta name="date" content="2015-09-10">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PleaseThrottleException";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/hbase/async/NotServingRegionException.html" title="class in org.hbase.async"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/hbase/async/PutRequest.html" title="class in org.hbase.async"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/hbase/async/PleaseThrottleException.html" target="_top">Frames</a></li>
<li><a href="PleaseThrottleException.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.hbase.async</div>
<h2 title="Class PleaseThrottleException" class="title">Class PleaseThrottleException</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">java.lang.Throwable</a></li>
<li>
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">java.lang.Exception</a></li>
<li>
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">java.lang.RuntimeException</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../org/hbase/async/HBaseException.html" title="class in org.hbase.async">org.hbase.async.HBaseException</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../org/hbase/async/NonRecoverableException.html" title="class in org.hbase.async">org.hbase.async.NonRecoverableException</a></li>
<li>
<ul class="inheritance">
<li>org.hbase.async.PleaseThrottleException</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://download.oracle.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, <a href="../../../org/hbase/async/HasFailedRpcException.html" title="interface in org.hbase.async">HasFailedRpcException</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="strong">PleaseThrottleException</span>
extends <a href="../../../org/hbase/async/NonRecoverableException.html" title="class in org.hbase.async">NonRecoverableException</a>
implements <a href="../../../org/hbase/async/HasFailedRpcException.html" title="interface in org.hbase.async">HasFailedRpcException</a></pre>
<div class="block">This exception notifies the application to throttle its use of HBase.
 <p>
 Since all APIs of <a href="../../../org/hbase/async/HBaseClient.html" title="class in org.hbase.async"><code>HBaseClient</code></a> are asynchronous and non-blocking,
 it's possible that the application would produce RPCs at a rate higher
 than HBase is able to handle.  When this happens, <a href="../../../org/hbase/async/HBaseClient.html" title="class in org.hbase.async"><code>HBaseClient</code></a>
 will typically do some buffering up to a certain point beyond which RPCs
 will fail-fast with this exception, to prevent the application from
 running itself out of memory.
 <p>
 This exception is expected to be handled by having the application
 throttle or pause itself for a short period of time before retrying the
 RPC that failed with this exception as well as before sending other RPCs.
 The reason this exception inherits from <a href="../../../org/hbase/async/NonRecoverableException.html" title="class in org.hbase.async"><code>NonRecoverableException</code></a>
 instead of <a href="../../../org/hbase/async/RecoverableException.html" title="class in org.hbase.async"><code>RecoverableException</code></a> is that the usual course of action
 when handling a <a href="../../../org/hbase/async/RecoverableException.html" title="class in org.hbase.async"><code>RecoverableException</code></a> is to retry right away, which
 would defeat the whole purpose of this exception.  Here, we want the
 application to <b>retry after a reasonable delay</b> as well as <b>throttle
 the pace of creation of new RPCs</b>.  What constitutes a "reasonable
 delay" depends on the nature of RPCs and rate at which they're produced.
 For a write-heavy high-throughput application, this exception will
 typically be used when HBase is in the process of splitting a region or
 migrating a region to another server, in which case the application should
 stop producing new writes for typically at least 1 second (or significantly
 slow down its pace, to let <a href="../../../org/hbase/async/HBaseClient.html" title="class in org.hbase.async"><code>HBaseClient</code></a> buffer the writes).
 <p>
 When <a href="../../../org/hbase/async/HBaseClient.html" title="class in org.hbase.async"><code>HBaseClient</code></a> buffers RPCs, it typically uses this exception
 with a low watermark and a high watermark.  When the buffer hits the low
 watermark, the next (unlucky) RPC that wants to be buffered will be failed
 with a <code>PleaseThrottleException</code>, to send an "advisory warning" to
 the application that it needs to throttle itself.  All subsequent RPCs
 that need to be buffered will be buffered until the buffer hits the high
 watermark.  Once the high watermark has been hit, all subsequent RPCs that
 need to be buffered will fail-fast with a <code>PleaseThrottleException</code>.
 <p>
 One effective strategy to handle this exception is to set a flag to true
 when this exception is first emitted that causes the application to pause
 or throttle its use of HBase.  Then you can retry the RPC that failed
 (which is accessible through <a href="../../../org/hbase/async/PleaseThrottleException.html#getFailedRpc()"><code>getFailedRpc()</code></a>) and add a callback to
 it in order to unset the flag once the RPC completes successfully.
 Note that low-throughput applications will typically rarely (if ever)
 hit the low watermark and should never hit the high watermark, so they
 don't need complex throttling logic.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../serialized-form.html#org.hbase.async.PleaseThrottleException">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://tsunanet.net/~tsuna/async/api/com/stumbleupon/async/Deferred.html?is-external=true" title="class or interface in com.stumbleupon.async">Deferred</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/hbase/async/PleaseThrottleException.html#getDeferred()">getDeferred</a></strong>()</code>
<div class="block">Returns a deferred one can wait on before retrying the failed RPC.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/hbase/async/HBaseRpc.html" title="class in org.hbase.async">HBaseRpc</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/hbase/async/PleaseThrottleException.html#getFailedRpc()">getFailedRpc</a></strong>()</code>
<div class="block">The RPC that was made to fail with this exception.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Throwable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#addSuppressed(java.lang.Throwable)" title="class or interface in java.lang">addSuppressed</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#fillInStackTrace()" title="class or interface in java.lang">fillInStackTrace</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#getCause()" title="class or interface in java.lang">getCause</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#getLocalizedMessage()" title="class or interface in java.lang">getLocalizedMessage</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#getMessage()" title="class or interface in java.lang">getMessage</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#getStackTrace()" title="class or interface in java.lang">getStackTrace</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#getSuppressed()" title="class or interface in java.lang">getSuppressed</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#initCause(java.lang.Throwable)" title="class or interface in java.lang">initCause</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#printStackTrace()" title="class or interface in java.lang">printStackTrace</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#printStackTrace(java.io.PrintStream)" title="class or interface in java.lang">printStackTrace</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#printStackTrace(java.io.PrintWriter)" title="class or interface in java.lang">printStackTrace</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#setStackTrace(java.lang.StackTraceElement[])" title="class or interface in java.lang">setStackTrace</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getFailedRpc()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFailedRpc</h4>
<pre>public&nbsp;<a href="../../../org/hbase/async/HBaseRpc.html" title="class in org.hbase.async">HBaseRpc</a>&nbsp;getFailedRpc()</pre>
<div class="block">The RPC that was made to fail with this exception.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/hbase/async/HasFailedRpcException.html#getFailedRpc()">getFailedRpc</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/hbase/async/HasFailedRpcException.html" title="interface in org.hbase.async">HasFailedRpcException</a></code></dd>
</dl>
</li>
</ul>
<a name="getDeferred()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDeferred</h4>
<pre>public&nbsp;<a href="http://tsunanet.net/~tsuna/async/api/com/stumbleupon/async/Deferred.html?is-external=true" title="class or interface in com.stumbleupon.async">Deferred</a>&lt;?&gt;&nbsp;getDeferred()</pre>
<div class="block">Returns a deferred one can wait on before retrying the failed RPC.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.3</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/hbase/async/NotServingRegionException.html" title="class in org.hbase.async"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/hbase/async/PutRequest.html" title="class in org.hbase.async"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/hbase/async/PleaseThrottleException.html" target="_top">Frames</a></li>
<li><a href="PleaseThrottleException.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
